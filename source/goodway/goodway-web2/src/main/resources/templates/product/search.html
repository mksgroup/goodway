<!DOCTYPE html>
<html class="loading" lang="en" data-textdirection="ltr" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:include="fragments/head"></th:block>
</head>
<body class="horizontal-layout horizontal-top-icon-menu 2-columns   menu-expanded" data-open="hover" data-menu="horizontal-menu" data-col="2-columns">
  <!-- fixed-top-->
    <th:block th:include="fragments/nav"></th:block>
  <!-- ////////////////////////////////////////////////////////////////////////////-->
  <!-- Horizontal navigation-->
    <th:block th:include="fragments/hnav"></th:block>
  <!-- Horizontal navigation-->

  <th:block th:include="fragments/product/search"></th:block>
  
  <th:block th:include="fragments/footer"></th:block>
  <script>
	$(document).ready(function(){
		$('input[type=search]').on('keyup'), function(){
			var value = $(this).val().toLowerCase();
			$('#resultTable tbody tr').filter(function() {
				$(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
			});
		};
	});
	</script>
	
<script>
    // Lưu đối tượng table kết quả search
    var resultTable = null;
    var productData;
    
    $(document).ready(function() {
        // Khởi tạo Table kết quả
    	if (resultTable == null) {
            $("#resultTable").DataTable({
                ajax: {'url': _ctx + 'product/load-product', 'dataSrc': ''},
                "columns": [
                	   { "data": "id" },
                	   { "data": "name" },
                	   { "data": "description" },
                	   { "data": "height" },
                	   { "data": "width" },
                	   { "data": "length" },
                	   { "data": "weight" }              	   
                       ],
                	   "initComplete": function(settings, json){ 
                		    var rows = 0;
                           var info = this.api().page.info();
                        	rows = info.recordsTotal;
                           total.innerHTML = rows;
                       }
            });
    	} else {
            resultTable.fnDraw();
        }
    });
</script>
</body>
</html>