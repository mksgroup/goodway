<!DOCTYPE html>
<html class="loading" lang="en" data-textdirection="ltr"
	xmlns:th="http://www.thymeleaf.org">
<head>
<th:block th:include="fragments/head"></th:block>
</head>
<body class="horizontal-layout horizontal-top-icon-menu 2-columns   menu-expanded" data-open="hover" data-menu="horizontal-menu" data-col="2-columns">
	<!-- fixed-top-->
	<th:block th:include="fragments/nav"></th:block>
	<!-- ////////////////////////////////////////////////////////////////////////////-->
	<!-- Horizontal navigation-->
	<th:block th:include="fragments/hnav"></th:block>
	<!-- Horizontal navigation-->

	<!-- Nav of the screen -->
	

	<th:block th:include="fragments/address/search"></th:block>

	<th:block th:include="fragments/footer"></th:block>
	<script >
	$(document).ready(function(){
		$('input[type=search]').on('keyup'), function(){
			var value = $(this).val().toLowerCase();
			$('#resultTable tbody tr').filter(function() {
				$(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
			});
		};
	});
	</script>
	
	<script>
        // Lưu đối tượng table kết quả search
        var resultTable = null;
        var tb;
        var addressData;
        var total = document.getElementById('total');
        
        $(document).ready(function() {
            // Khởi tạo Table kết quả
        	if (resultTable == null) {
        		tb = $("#resultTable").DataTable({
                    ajax: {'url': _ctx + 'address/load-address', 'dataSrc': ''},
                    "columns": [
                    	   { "data": "id" },
                    	   { "data": "city" },
                    	   { "data": "displayAddress" },
                    	   { "data": "street" },
                    	   { "data": "ward" }
                    	   ],
                    	   "initComplete": function(settings, json){ 
                               var info = this.api().page.info();
                               total.innerHTML = info.recordsTotal;
                           }
                });
        	} else {
                resultTable.fnDraw();
            }
            
        });
    </script>
	
</body>
</html>